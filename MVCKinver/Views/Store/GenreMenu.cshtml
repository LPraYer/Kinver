@model IEnumerable<MVCKinver.Models.Genre>

<div class="nav-left" data-spy="affix" data-offset-top="0">
    <ul@* id="categories"*@ class="nav nav-tabs nav-stacked">
        @{
            var roots = Model.Where(g => g.FatherGenreId == 0).ToList();
            var i = 0;
            foreach (var rootgenre in roots)
            {
                i += 1;
                <li>
                    <span class="left-nav-header">@rootgenre.Name</span>
                </li>
                var levelones = Model.Where(g => g.FatherGenreId == rootgenre.GenreId).ToList();
                foreach (var levelonegenre in levelones)
                {
                    <li id="@levelonegenre.GenreUrl">
                        <i class="icon-chevron-right opacity-point-twentyfive"></i>
                        @Html.ActionLink(levelonegenre.Name, "Browse", "Store", new { Genre = levelonegenre.GenreUrl }, null)
                        @*@Html.ActionLink(genre.Name, "Browse", "Store","http","localhost","test", new { Genre = genre.Name }, null)*@
                    </li>
                }
                @*
                if (i != roots.Count())
                {
                    <li class="divider"></li>
                }
                *@
            }
        }
    </ul>
</div>